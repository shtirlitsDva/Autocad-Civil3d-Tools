<UserControl x:Class="DimensioneringV2.UI.SettingsTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:DimensioneringV2.UI"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             mc:Ignorable="d" 
             d:DesignHeight="1200" d:DesignWidth="800">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="Theme.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <!-- Map Theme Styles to Implicit Styles for this view -->
            <Style TargetType="Grid" x:Key="RowStyle" BasedOn="{StaticResource FormRowStyle}"/>
            <Style TargetType="Label" BasedOn="{StaticResource FormLabelStyle}"/>
            <Style TargetType="TextBox" BasedOn="{StaticResource FormTextBoxStyle}"/>
            <Style TargetType="ComboBox" BasedOn="{StaticResource FormComboBoxStyle}"/>
            <Style TargetType="CheckBox" BasedOn="{StaticResource FormCheckBoxStyle}"/>
            <Style TargetType="GroupBox" BasedOn="{StaticResource FormGroupBoxStyle}"/>
            <Style TargetType="Button" x:Key="ActionBtn" BasedOn="{StaticResource ActionButtonStyle}"/>

        </ResourceDictionary>
    </UserControl.Resources>

    <ScrollViewer Background="{DynamicResource Background}" 
                  HorizontalScrollBarVisibility="Auto"
                  VerticalScrollBarVisibility="Auto">

        <!-- Root StackPanel with SharedSizeScope -->
        <StackPanel Orientation="Vertical" Grid.IsSharedSizeScope="True" Margin="10">
                
            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                <Button Content="Save Settings"
                        Command="{Binding SaveSettingsCommand}"
                        Style="{StaticResource ActionBtn}" />

                <Button Content="Observe"
                        Command="{Binding ObserveSettingsCommand}"
                        Style="{StaticResource ActionBtn}" />
            </StackPanel>

            <!-- Miscellaneous Settings -->
            <GroupBox Header="Fælles input (stik- og fordelingsledninger)">
                <StackPanel>
                    <!-- Medietype -->
                    <Grid Style="{StaticResource RowStyle}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                    </Grid.ColumnDefinitions>
                        <Label Content="Medietype:"/>
                        <ComboBox Grid.Column="1" Width="150"
                              ItemsSource="{Binding MedieTypes}"
                              SelectedItem="{Binding Settings.MedieType, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>

                    <!-- HotWaterReturnTemp -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Returtemperatur for varmt brugsvand [°:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.HotWaterReturnTemp, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- UseBrugsvandsprioritering (CheckBox) -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <CheckBox Grid.Column="0" Grid.ColumnSpan="2" Content="Brug brugsvandsprioritering"
                                  IsChecked="{Binding Settings.UseBrugsvandsprioritering, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- FactorTillæg -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Factor for tillæg for opvarmning uden brugsvandsprioritering [Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.FactorTillægForOpvarmningUdenBrugsvandsprioritering, UpdateSourceTrigger=PropertyChanged}"
                             IsEnabled="{Binding IsFactorTillægEditable}"/>
                    </Grid>

                    <!-- MinDifferentialPressure -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Minimum differenstryk over hovedhaner ved forbrugeren [bar:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.MinDifferentialPressureOverHovedHaner, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- RuhedSteel -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Ruhed stålrør [mm:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.RuhedSteel, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- RuhedPertFlextra -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Ruhed Pert Flextra [mm:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.RuhedPertFlextra, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- RuhedAluPEX -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Ruhed AluPEX [mm:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.RuhedAluPEX, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- RuhedCu -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Ruhed CuFlex [mm:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.RuhedCu, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- RuhedPe -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Ruhed PE [mm:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.RuhedPe, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- TillægTilHoldetrykMVS -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Tillæg til holdetryk [mVS:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.TillægTilHoldetrykMVS, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- ProcentTillægTilTryktab -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Tillæg til tryktab i procent [%:Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.ProcentTillægTilTryktab, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                    
                    <!-- TimeToSteinerTreeEnumeration -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Tid til søgning af Steiner træer [sek:Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.TimeToSteinerTreeEnumeration, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- CalculationType -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Friktionsfaktor formel [CW = ColebrookWhite, TM = TkaczenkoMileikovskyi]:"/>
                        <ComboBox Grid.Column="1" Width="100"
                              ItemsSource="{Binding CalculationTypes}"
                              SelectedItem="{Binding Settings.CalculationType, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- ReportToConsole -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <CheckBox Grid.Column="0" Grid.ColumnSpan="2" Content="Skriv resultater til konsolvinduet [Langsommere]"
                                  IsChecked="{Binding Settings.ReportToConsole, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- CacheResults -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <CheckBox Grid.Column="0" Grid.ColumnSpan="2" Content="Brug resultat caching"
                                  IsChecked="{Binding Settings.CacheResults, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- CachePrecision -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Præcision for caching [Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.CachePrecision, UpdateSourceTrigger=PropertyChanged}"/>
                </Grid>
                </StackPanel>
            </GroupBox>

            <!-- Supply Lines (FL) -->
            <GroupBox Header="Fordelingsledninger">
                <StackPanel>
                    <!-- TempFremFL -->
                    <Grid Style="{StaticResource RowStyle}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                    </Grid.ColumnDefinitions>
                        <Label Content="Temperatur frem [°:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.TempFremFL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- TempReturFL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Temperatur retur [°:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.TempReturFL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- FactorVarmtVandsTillægFL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Faktor for varmtvandstillæg (veksler eller beholder) [Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.FactorVarmtVandsTillægFL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- NyttetimerOneUserFL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Nyttetimer ved 1 forbruger [Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.NyttetimerOneUserFL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- Nyttetimer50PlusUsersFL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Nyttetimer ved 50+ forbrugere [Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.Nyttetimer50PlusUsersFL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptVelocity20_150FL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie hastighed DN 20-150 [m/s:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptVelocity20_150FL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptVelocity200_300FL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie hastighed DN 200-300 [m/s:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptVelocity200_300FL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptVelocity350PlusFL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie hastighed DN 350+ [m/s:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptVelocity350PlusFL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptPressureGradient20_150FL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie trykgradient DN 20-150 [Pa/m:Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptPressureGradient20_150FL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptPressureGradient200_300FL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie trykgradient DN 200-300 [Pa/m:Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptPressureGradient200_300FL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptPressureGradient350PlusFL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie trykgradient DN 350+ [Pa/m:Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptPressureGradient350PlusFL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- UsePertFlextraFL (CheckBox) -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <CheckBox Grid.Column="0" Grid.ColumnSpan="2" Content="Brug PertFlextra" 
                                  IsChecked="{Binding Settings.UsePertFlextraFL, UpdateSourceTrigger=PropertyChanged}"
                                  IsEnabled="{Binding IsPertFlextraSelectable}"/>
                    </Grid>

                    <!-- PertFlextraMaxDnFL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="PertFlextra maksimum størrelse:"/>
                        <ComboBox Grid.Column="1" Width="100" SelectedItem="{Binding Settings.PertFlextraMaxDnFL, UpdateSourceTrigger=PropertyChanged}"
                              IsEnabled="{Binding IsPertFlextraSelectable}">
                        <sys:Int32>75</sys:Int32>
                        <sys:Int32>63</sys:Int32>
                        <sys:Int32>50</sys:Int32>
                        <sys:Int32>40</sys:Int32>
                        <sys:Int32>32</sys:Int32>
                        <sys:Int32>25</sys:Int32>
                    </ComboBox>
                </Grid>
                </StackPanel>
            </GroupBox>

            <!-- Service Lines (SL) -->
            <GroupBox Header="Stikledninger">
                <StackPanel>
                    <!-- TempFremSL -->
                    <Grid Style="{StaticResource RowStyle}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                    </Grid.ColumnDefinitions>
                        <Label Content="Temperatur frem [°:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.TempFremSL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- TempReturSL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Temperatur retur [°:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.TempReturSL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- FactorVarmtVandsTillægSL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Faktor for varmtvandstillæg (veksler eller beholder) [Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.FactorVarmtVandsTillægSL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- NyttetimerOneUserSL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Nyttetimer ved 1 forbruger [Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.NyttetimerOneUserSL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- PipeTypeSL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Fleksible stik udføres som:"/>
                        <ComboBox Grid.Column="1" Width="100"
                              ItemsSource="{Binding ValidPipeTypesSL}"
                              SelectedItem="{Binding Settings.PipeTypeSL, UpdateSourceTrigger=PropertyChanged}"
                              IsEnabled="{Binding IsPipeTypeSLSelectable}"/>
                    </Grid>

                    <!-- AcceptVelocityFlexibleSL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie hastighed fleksible stik [m/s:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptVelocityFlexibleSL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptVelocity20_150SL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie hastighed DN 20-150 [m/s:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptVelocity20_150SL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptPressureGradientFlexibleSL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie trykgradient fleksible stik [Pa/m:Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptPressureGradientFlexibleSL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- AcceptPressureGradient20_150SL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Acceptkriterie trykgradient DN 20-150 [Pa/m:Heltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.AcceptPressureGradient20_150SL, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- MaxPressureLossStikSL -->
                    <Grid Style="{StaticResource RowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="LabelColumn"/>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="InputColumn"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Maks. tryktab i stikledning [bar:Decimaltal]:"/>
                        <TextBox Grid.Column="1" Width="50" Text="{Binding Settings.MaxPressureLossStikSL, UpdateSourceTrigger=PropertyChanged}"/>
                </Grid>
                </StackPanel>
            </GroupBox>
        </StackPanel>
    </ScrollViewer>
</UserControl>